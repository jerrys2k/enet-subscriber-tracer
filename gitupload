#!/bin/bash

echo "ğŸ“¦ Staging all changes..."
git add .

# Prompt for commit message
read -p "ğŸ“ Enter commit message: " commit_message

if [[ -z "$commit_message" ]]; then
  echo "âŒ Commit message cannot be empty."
  exit 1
fi

# Commit
echo "âœ… Committing..."
git commit -m "$commit_message"

# Push to main
echo "ğŸš€ Pushing to origin/main..."
git push origin main

# Prompt for tag (optional)
read -p "ğŸ·ï¸  Tag this commit? (e.g., v1.0.1, or press Enter to skip): " tag_name

if [[ ! -z "$tag_name" ]]; then
  git tag "$tag_name"
  git push origin "$tag_name"
  echo "âœ… Tag $tag_name pushed."
else
  echo "ğŸ·ï¸  No tag applied."
fi

echo "âœ… Done."
